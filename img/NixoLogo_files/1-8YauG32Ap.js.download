if (self.CavalryLogger) { CavalryLogger.start_js(["Z9giA"]); }

__d("IrisProtocolMessageLifetime",[],(function a(b,c,d,e,f,g){f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:30000,TTL_1MINUTE:60000,TTL_3MINUTES:180000,TTL_5MINUTES:300000,TTL_10MINUTES:600000,TTL_15MINUTES:900000,TTL_30MINUTES:1800000,TTL_1HOUR:3600000,TTL_2HOURS:7200000,TTL_4HOURS:14400000,TTL_8HOURS:28800000,TTL_12HOURS:43200000,TTL_24HOURS:86400000};}),null);
__d("MercuryActionType",[],(function a(b,c,d,e,f,g){f.exports={LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",ADD_GROUP_ADMINS:"ma-type:add_group_admins",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CHANGE_FLAG:"ma-type:change_flag",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UNWRAP_MESSAGE:"ma-type:unwrap-message",JOINABLE_MODE:"ma-type:joinable-mode",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",IS_PIN_PROTECTED:"ma-type:is_pin_protected",REACTION_UPDATE:"ma-type:reaction-update",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data"};}),null);
__d("MercuryAttachmentType",[],(function a(b,c,d,e,f,g){f.exports={ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"};}),null);
__d("MercuryAudioType",[],(function a(b,c,d,e,f,g){f.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"};}),null);
__d("MercuryGlobalActionType",[],(function a(b,c,d,e,f,g){f.exports={MARK_ALL_READ:"mga-type:mark-all-read"};}),null);
__d("MercuryTimePassed",[],(function a(b,c,d,e,f,g){f.exports={TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4};}),null);
__d("MessagingTag",[],(function a(b,c,d,e,f,g){f.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",ROOM:"room"};}),null);
__d("P2PPaymentRequestStatus",[],(function a(b,c,d,e,f,g){f.exports={INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7};}),null);
__d("P2PTransferStatus",[],(function a(b,c,d,e,f,g){f.exports={PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18};}),null);
__d("PagesMessagingEventType",[],(function a(b,c,d,e,f,g){f.exports={FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3};}),null);
__d("StickerConstants",[],(function a(b,c,d,e,f,g){f.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",OZ_PACK_ID:"1456625217993235",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};}),null);
__d("StoryAttachmentStyle",[],(function a(b,c,d,e,f,g){f.exports={FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",INSPIRATION_PHOTO:"inspiration_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",TOPIC_FOLLOWING_TOPIC:"topic_following_topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",VIDEO_SHOP:"video_shop",INSPIRATION_VIDEO:"inspiration_video",MULTI_VIDEOS_STITCHED:"multi_videos_stitched",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_NON_LINK_VIDEO:"multi_share_non_link_video",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",MULTI_SHARE_FIXED_TEXT:"multi_share_fixed_text",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_LEAGUE:"gametime_league",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",P2P_PAYMENT:"p2p_payment",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",JOB_OFFER:"job_offer",GROUP_ADD_MEMBERS:"group_add_memebers",GROUP_MEMBER_ADDED:"group_member_added",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",RICH_MEDIA_COLLECTION:"rich_media_collection",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET_DEPRECATED:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",WELCOME_CARD_IMAGE:"welcome_card_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",VOTER_REGISTRATION_SHARE:"voter_registration_share",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",IMPLICIT_PLACE_LIST_CONVERSION:"implicit_place_list_conversion",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",CULTURAL_MOMENT_HOLIDAY_CARD:"cultural_moment_holiday_card",TRANSACTION_INVOICE:"transaction_invoice",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",FUNDRAISER_FOR_STORY:"fundraiser_for_story",MESSAGE_LIVE_LOCATION:"message_live_location",MESSENGER_INVITE:"messenger_invite",GAMES_INSTANT_PLAY:"games_instant_play",PROFILE_MEDIA:"profile_media",NATIVE_TEMPLATES:"native_templates",GOODWILL_THROWBACK_VIDEO_BASIC:"goodwill_throwback_video_basic",COMMERCE_PRODUCT_MINI:"commerce_product_mini",COMMERCE_PRODUCT_MINI_LIST:"commerce_product_mini_list",COMMENT:"comment",MESSENGER_TEAM_BOT_SHARE:"messenger_team_bot_share",LIVE_VIDEO_SCHEDULE:"live_video_schedule",PRODUCT_ITEM:"product_item",PLATFORM_INSTANT_APP:"platform_instant_app",YEAR_OVERVIEW:"year_overview",NATIVE_COMPONENT_FLOW_BOOKING_REQUEST:"native_component_flow_booking_request",FRIEND_REQUEST:"friend_request",MESSENGER_GROUP_JOINABLE_LINK:"messenger_group_joinable_link",SOCIAL_SEARCH_CONVERSION_PROMPT:"social_search_conversion_prompt",MDOTME_USER_LINK:"mdotme_user_link",DYNAMIC_MULTI_SHARE_ITEMS:"dynamic_multi_share_items",EVENT_REMINDER:"event_reminder",INSTANT_GAMES_SHARE_MESSAGE:"instant_games_share_message",MESSENGER_PLATFORM_COMPACT_ITEM:"messenger_platform_compact_item",MESSENGER_PLATFORM_COVER_ITEM:"messenger_platform_cover_item",MULTI_SHARE_NON_LINK_VIDEO_AUTO_SCROLL:"multi_share_non_link_video_auto_scroll",ENDORSEMENT:"endorsement",OFFER_VIEW_LIVE_COUNTDOWN:"offer_view_live_countdown",ENHANCED_LINK_REDDIT_POST:"enhanced_link_reddit_post",MESSENGER_COMMERCE_COVER_ITEM:"messenger_commerce_cover_item",ENHANCED_LINK_YELP_BUSINESS:"enhanced_link_yelp_business",PAGES_PLATFORM_LEAD_GEN:"pages_platform_lead_gen",NATIVE_STORY:"native_story",MFS_BILL_PAY_CREATION_UPDATE:"mfs_bill_pay_creation_update",MFS_BILL_PAY_REFERENCE_CODE_UPDATE:"mfs_bill_pay_reference_code_update",MFS_BILL_PAY_AGENT_CASH_IN_UPDATE:"mfs_bill_pay_agent_cash_in_update",ISSUE_POSITION:"issue_position",PAGES_PLATFORM_BOOKING_MESSAGE:"pages_platform_booking_message",EXTERNAL_GALLERY:"external_gallery",MEME_SHARE:"meme_share",MESSENGER_PLATFORM_ELEMENT:"messenger_platform_element",INSTANT_GAMES_SHARE_SCORE_MESSAGE:"instant_games_share_score_message",MESSENGER_PLATFORM_BUTTON_LIST:"messenger_platform_button_list",BALLOT:"ballot",LIGHTWEIGHT_ACTION:"lightweight_action",TAROT_DIGEST:"tarot_digest",EVENT_TOUR:"event_tour",ADAPTIVE_MEDIA:"adaptive_media",DYNAMIC_GAME_BOARD:"dynamic_game_board",PAYMENT_PLATFORM:"payment_platform",OMNI_M_FLOW:"omni_m_flow",GROUP_QUIZ:"group_quiz",TRIAL_AD:"trial_ad",TEEM_COLLECTIONS:"teem_collections",CRISIS_STATUS:"crisis_status",CRISIS_LISTING:"crisis_listing",VR_CONTENT:"vr_content",VIDEO_RECOMMENDATION_HSCROLL:"video_recommendation_hscroll",VIDEO_TRAILER:"video_trailer",SHOW_PAGE_SHARE:"show_page_share",MFS_ATTACHMENT:"mfs_attachment",GROUP_TASK:"group_task",VIDEO_RECOMMENDATION_SINGLETON:"video_recommendation_singleton",PAGE_REVIEW_PROMPT:"page_review_prompt",VIDEO_SHOW:"video_show",UNCONNECTED_VIDEO:"unconnected_video",SHOW_SHARE:"show_share",JOB_SEARCH_JOB_APPLICATION:"job_search_job_application",PAGE_MESSENGER_ATTACHMENT:"page_messenger_attachment",CONTACT_YOUR_REP:"contact_your_rep",LOCATION_EXTENSION:"location_extension",PLACE_RECOMMENDATION:"place_recommendation",JOB_SEARCH_JOB_OPENING:"job_search_job_opening"};}),null);
__d('MercuryAttachmentSnippetType',['keyMirror'],(function a(b,c,d,e,f,g,h){var i=h({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});f.exports=i;}),null);
__d('MercuryGiftSnippetRenderer',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={renderText:function j(k,l){return k?h._("You sent a Valentine."):h._("{name} sent a Valentine.",[h.param('name',l)]);}};f.exports=i;}),null);
__d('P2PSnippetStringUtils',['P2PPaymentRequestStatus','P2PTransferStatus','fbt'],(function a(b,c,d,e,f,g,h,i,j){var k={getRequestCanceledSnippet:function l(m,n,o,p,q){if(m){return j._("Your request for {payment request amount} from {receiver's name} was cancelled.",[j.param('payment request amount',q),j.param('receiver\'s name',p)]);}else if(n){return j._("{requester's name}'s request for {payment request amount} was cancelled.",[j.param('requester\'s name',o),j.param('payment request amount',q)]);}else return j._("{requester's name}'s request for {payment request amount} from {receiver's name} was cancelled.",[j.param('requester\'s name',o),j.param('payment request amount',q),j.param('receiver\'s name',p)]);},getRequestDeclinedSnippet:function l(m,n,o,p,q){if(m){return j._("{receiver's name} declined your request for {payment request amount}.",[j.param('receiver\'s name',p),j.param('payment request amount',q)]);}else if(n){return j._("You declined {requester's name}'s request for {payment request amount}.",[j.param('requester\'s name',o),j.param('payment request amount',q)]);}else return j._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[j.param('receiver\'s name',p),j.param('sender\'s name',o),j.param('payment request amount',q)]);},getRequestSentSnippet:function l(m,n,o,p,q){if(m){return j._("You requested {amount} from {requestee name}.",[j.param('amount',q),j.param('requestee name',p)]);}else if(n){return j._("{requester name} requested {amount} from you.",[j.param('requester name',o),j.param('amount',q)]);}else return j._("{name} requested {amount} from {requestee name}.",[j.param('name',o),j.param('amount',q),j.param('requestee name',p)]);},getRequestSnippetByStatus:function l(m,n,o,p,q,r){var s=m||h.INITED,t=[n,o,p,q,r];switch(s){case h.DECLINED:return this.getRequestDeclinedSnippet.apply(this,t);case h.TRANSFER_FAILED:case h.CANCELED:return this.getRequestCanceledSnippet.apply(this,t);}return this.getRequestSentSnippet.apply(this,t);},getTransferCanceledSnippet:function l(m,n,o,p,q){if(m){return j._("Your payment of {amount} to {receiver_name} was cancelled.",[j.param('amount',q),j.param('receiver_name',p)]);}else if(n){return j._("{sender name}'s payment of {amount} was cancelled.",[j.param('sender name',o),j.param('amount',q)]);}else return j._("{sender_name}'s payment of {amount} to {receiver_name} was cancelled.",[j.param('sender_name',o),j.param('amount',q),j.param('receiver_name',p)]);},getTransferDeclinedSnippet:function l(m,n,o,p,q){if(m){return j._("{receiver_name} didn't accept your payment of {amount}.",[j.param('receiver_name',p),j.param('amount',q)]);}else if(n){return j._("You didn't accept {sender name}'s payment of {amount}.",[j.param('sender name',o),j.param('amount',q)]);}else return j._("{receiver_name} didn't accept {sender_name}'s payment of {amount}.",[j.param('receiver_name',p),j.param('sender_name',o),j.param('amount',q)]);},getTransferSentSnippet:function l(m,n,o,p,q){if(m){return j._("You sent {amount} to {receiver name}.",[j.param('receiver name',p),j.param('amount',q)]);}else if(n){return j._("{name} sent {amount} to you.",[j.param('name',o),j.param('amount',q)]);}else return j._("{sender name} sent {amount} to {receiver name}.",[j.param('sender name',o),j.param('receiver name',p),j.param('amount',q)]);},getTransferSnippetByStatus:function l(m,n,o,p,q,r){var s=[n,o,p,q,r],t=m||i.PENDING_SENDER_INITED;switch(t){case i.CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,s);case i.CANCELED_SENDER_RISK:case i.CANCELED_RECIPIENT_RISK:case i.CANCELED_SYSTEM_FAIL:case i.CANCELED_EXPIRED:case i.CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,s);}return this.getTransferSentSnippet.apply(this,s);}};f.exports=k;}),null);
__d('MercuryAttachmentSnippetRenderer',['CurrentUser','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryAudioType','MercuryGiftSnippetRenderer','P2PSnippetStringUtils','StickerConstants','StoryAttachmentStyle','fbt'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q={getAttachmentSnippetType:function r(s){if(this._hasOnlyPhotos(s))return i.PHOTO;if(this._hasOnlyAnimatedImages(s))return i.GIF;if(this._hasOnlyVideo(s))return i.VIDEO;if(this._hasAudioClip(s))return i.AUDIO_CLIP;if(this._hasLikeSticker(s))return i.LIKE_STICKER;if(this._hasSticker(s))return i.STICKER;if(this._hasThirdPartySticker(s))return i.THIRDPARTYSTICKER;if(this._hasShare(s))return i.SHARE;if(this._hasGift(s))return i.GIFT;if(this._hasError(s))return i.ERROR;if(this._hasFile(s))return i.FILE;return i.MIXED;},renderAttachmentSnippetText:function r(s,t,u,v){switch(s){case i.PHOTO:return this._renderPhotoAttachmentSnippetText(t,u,this._getPhotoAttachments(v));case i.GIF:return this._renderAnimatedImagesAttachmentSnippetText(t,u,this._getAnimatedImageAttachments(v));case i.VIDEO:return t?p._("You sent a video."):p._("{sender name} sent a video.",[p.param('sender name',u)]);case i.AUDIO_CLIP:return t?p._("You sent a voice message."):p._("{name} sent a voice message.",[p.param('name',u)]);case i.STICKER:case i.LIKE_STICKER:case i.THIRDPARTYSTICKER:return t?p._("You sent a sticker."):p._("{name} sent a sticker.",[p.param('name',u)]);case i.SHARE:if(v&&this._hasP2PPayment(v))return this._renderP2PPaymentSnippetText(v[0]);if(v&&this._hasP2PPaymentRequest(v))return this._renderP2PPaymentRequestSnippetText(v[0]);if(v&&this._hasBusinessMessage(v))return this._renderBusinessMessageSnippetText(v[0],u);if(v&&this._hasLocation(v))return t?p._("You sent a location."):p._("{sender name} sent a location.",[p.param('sender name',u)]);if(v&&this._hasLiveLocation(v))return t?p._("You sent a live location."):p._("{sender name} sent a live location.",[p.param('sender name',u)]);return t?p._("You sent a link."):p._("{sender name} sent a link.",[p.param('sender name',u)]);case i.GIFT:return l.renderText(t,u);case i.FILE:return t?p._("You sent an attachment."):p._("{sender name} sent an attachment.",[p.param('sender name',u)]);case i.ERROR:return t?p._("You sent an attachment."):p._("{sender name} sent an attachment.",[p.param('sender name',u)]);default:return '';}},_hasOnlyPhotos:function r(s){return this._getPhotoAttachments(s).length===s.length;},_hasThirdPartySticker:function r(s){return s.length===1&&s[0].attach_type===j.THIRDPARTYSTICKER;},_hasOnlyAnimatedImages:function r(s){return this._getAnimatedImageAttachments(s).length===s.length;},_hasOnlyVideo:function r(s){return s.length===1&&s[0].attach_type===j.VIDEO;},_hasAudioClip:function r(s){var t=s[0].metadata&&s[0].metadata.type;return s.length===1&&(t===k.AudioClip||t===k.VoiceMessageWithTranscript);},_hasBusinessMessage:function r(s){return this._hasSingleShareAttachmentOfStyle(s,o.BUSINESS_MESSAGE_ITEMS);},_hasSticker:function r(s){return s.length===1&&s[0].attach_type===j.STICKER;},_hasLikeSticker:function r(s){if(s.length<1)return false;var t=s[0].metadata&&s[0].metadata.stickerID;return s.length===1&&(t==n.LIKE_STICKER_ID||t==n.HOT_LIKE_SMALL_STICKER_ID||t==n.HOT_LIKE_MEDIUM_STICKER_ID||t==n.HOT_LIKE_LARGE_STICKER_ID);},_hasLocation:function r(s){return this._hasSingleShareAttachmentOfStyle(s,o.MESSAGE_LOCATION);},_hasLiveLocation:function r(s){return this._hasSingleShareAttachmentOfStyle(s,o.MESSAGE_LIVE_LOCATION);},_hasP2PPayment:function r(s){return this._hasSingleShareAttachmentOfStyle(s,o.ORION);},_hasP2PPaymentRequest:function r(s){return this._hasSingleShareAttachmentOfStyle(s,o.ORION_REQUEST);},_hasSingleShareAttachmentOfStyle:function r(s,t){return s.length===1&&s[0].attach_type===j.SHARE&&s[0].share.style_list.indexOf(t)>=0;},_hasShare:function r(s){return s.length===1&&s[0].attach_type===j.SHARE;},_hasError:function r(s){return s.length===1&&s[0].attach_type===j.ERROR;},_hasGift:function r(s){return s.length===1&&s[0].attach_type===j.GIFT;},_hasFile:function r(s){return s.length===1&&s[0].attach_type===j.FILE;},_getPhotoAttachments:function r(s){if(!s)return [];return s.filter(function(t){return t.attach_type===j.PHOTO;});},_getAnimatedImageAttachments:function r(s){if(!s)return [];return s.filter(function(t){return t.attach_type===j.ANIMATED_IMAGE;});},_renderPhotoAttachmentSnippetText:function r(s,t,u){if(u.length===1){if(s){return p._("You sent a photo.");}else return p._("{name} sent a photo.",[p.param('name',t)]);}else if(s){return p._({"*":"You sent {num_photos} photos."},[p.param('num_photos',u.length,[0])]);}else return p._({"*":"{name} sent {num_photos} photos."},[p.param('name',t),p.param('num_photos',u.length,[0])]);},_renderAnimatedImagesAttachmentSnippetText:function r(s,t,u){if(u.length===1){if(s){return p._("You sent a GIF.");}else return p._("{name} sent a GIF.",[p.param('name',t)]);}else if(s){return p._("You sent {num_animated_images} GIFs.",[p.param('num_animated_images',u.length)]);}else return p._("{name} sent {num_animated_images} GIFs.",[p.param('name',t),p.param('num_animated_images',u.length)]);},_renderBusinessMessageSnippetText:function r(s,t){var u=s.share.target,v=u&&u.message||p._("{sender name} sent an attachment.",[p.param('sender name',t)]);return v;},_renderP2PPaymentSnippetText:function r(s){var t=s.share.target;return this.renderP2PPaymentSnippetText(h.getID()===t.sender.id,t.sender.name,t.amountWithSymbol,t.status,h.getID()===t.receiver.id,t.receiver.name);},_renderP2PPaymentRequestSnippetText:function r(s){var t=s.share.target;return this.renderP2PPaymentRequestSnippetText(h.getID()===t.requester.id,t.requester.name,t.amountWithSymbol,t.currentStatus,h.getID()===t.requestee.id,t.requestee.name);},renderP2PPaymentSnippetText:function r(s,t,u,v,w,x){return m.getTransferSnippetByStatus(v,s,w||false,t||'',x||'',u);},renderP2PPaymentRequestSnippetText:function r(s,t,u,v,w,x){return m.getRequestSnippetByStatus(v,s,w||false,t||'',x||'',u);}};f.exports=q;}),null);
__d('DateStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r={getWeekdayName:function s(t){if(!n)n=[h._("Sunday"),h._("Monday"),h._("Tuesday"),h._("Wednesday"),h._("Thursday"),h._("Friday"),h._("Saturday")];return n[t];},getUppercaseWeekdayName:function s(t){if(!p)p=[h._("SUNDAY"),h._("MONDAY"),h._("TUESDAY"),h._("WEDNESDAY"),h._("THURSDAY"),h._("FRIDAY"),h._("SATURDAY")];return p[t];},getWeekdayNameShort:function s(t){if(!o)o=[h._("Sun"),h._("Mon"),h._("Tues"),h._("Wed"),h._("Thurs"),h._("Fri"),h._("Sat")];return o[t];},getUppercaseWeekdayNameShort:function s(t){if(!q)q=[h._("SUN"),h._("MON"),h._("TUE"),h._("WED"),h._("THU"),h._("FRI"),h._("SAT")];return q[t];},_initializeMonthNames:function s(){i=[h._("January"),h._("February"),h._("March"),h._("April"),h._("May"),h._("June"),h._("July"),h._("August"),h._("September"),h._("October"),h._("November"),h._("December")];},getMonthName:function s(t){if(!i)this._initializeMonthNames();return i[t-1];},getMonthNames:function s(){if(!i)this._initializeMonthNames();return i.slice();},getUppercaseMonthName:function s(t){if(!l)l=[h._("JANUARY"),h._("FEBRUARY"),h._("MARCH"),h._("APRIL"),h._("MAY"),h._("JUNE"),h._("JULY"),h._("AUGUST"),h._("SEPTEMBER"),h._("OCTOBER"),h._("NOVEMBER"),h._("DECEMBER")];return l[t-1];},getMonthNameShort:function s(t){if(!j)j=[h._("Jan"),h._("Feb"),h._("Mar"),h._("Apr"),h._("May"),h._("Jun"),h._("Jul"),h._("Aug"),h._("Sept"),h._("Oct"),h._("Nov"),h._("Dec")];return j[t-1];},getUppercaseMonthNameShort:function s(t){if(!k)k=[h._("JAN"),h._("FEB"),h._("MAR"),h._("APR"),h._("MAY"),h._("JUN"),h._("JUL"),h._("AUG"),h._("SEP"),h._("OCT"),h._("NOV"),h._("DEC")];return k[t-1];},getOrdinalSuffix:function s(t){if(!m)m=['',h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[t];},getDayLabel:function s(){return h._("Day:");},getMonthLabel:function s(){return h._("Month:");},getYearLabel:function s(){return h._("Year:");},getDayPlaceholder:function s(){return h._("dd");},getMonthPlaceholder:function s(){return h._("mm");},getYearPlaceholder:function s(){return h._("yyyy");},getHourPlaceholder:function s(){return h._("h");},getMinutePlaceholder:function s(){return h._("m");},get12HourClockSuffix:function s(t){if(t<12)return h._("am");return h._("pm");},getUppercase12HourClockSuffix:function s(t){if(t<12)return h._("AM");return h._("PM");}};f.exports=r;}),null);
__d('padNumber',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.toString();if(k.length>=j)return k;return '0'.repeat(j-k.length)+k;}f.exports=h;}),null);
__d('formatDate',['DateStrings','DateFormatConfig','invariant','padNumber'],(function a(b,c,d,e,f,g,h,i,j,k){function l(o,p,q){q=q||{};if(!p||!o)return '';if(typeof o==='string')o=parseInt(o,10);if(typeof o==='number')o=new Date(o*1000);o instanceof Date||j(0);!isNaN(o.getTime())||j(0);if(typeof p!=='string'){var r=m();for(var s in r){var t=r[s];if(o.getTime()<=Date.now()){if(t.start<=o.getTime()&&p[t.name]){p=p[t.name];break;}}else if(o.getTime()<t.end&&p[t.name]){p=p[t.name];break;}}}var u;if(q.skipPatternLocalization||!q.formatInternal&&n()){u=p;}else if(!i.formats[p]){p.length===1||j(0);u=p;}else u=i.formats[p];var v=q.utc?'getUTC':'get',w=o[v+'Date'](),x=o[v+'Day'](),y=o[v+'Month'](),z=o[v+'FullYear'](),aa=o[v+'Hours'](),ba=o[v+'Minutes'](),ca=o[v+'Seconds'](),da=o[v+'Milliseconds'](),ea='';for(var fa=0;fa<u.length;fa++){var ga=u.charAt(fa);switch(ga){case '\\':fa++;ea+=u.charAt(fa);break;case 'd':ea+=k(w,2);break;case 'j':ea+=w;break;case 'S':ea+=h.getOrdinalSuffix(w);break;case 'D':ea+=h.getWeekdayNameShort(x);break;case 'l':ea+=h.getWeekdayName(x);break;case 'F':case 'f':ea+=h.getMonthName(y+1);break;case 'M':ea+=h.getMonthNameShort(y+1);break;case 'm':ea+=k(y+1,2);break;case 'n':ea+=y+1;break;case 'Y':ea+=z;break;case 'y':ea+=(''+z).slice(2);break;case 'a':if(q.skipSuffixLocalization){ea+=aa<12?'am':'pm';}else ea+=h.get12HourClockSuffix(aa);break;case 'A':if(q.skipSuffixLocalization){ea+=aa<12?'AM':'PM';}else ea+=h.getUppercase12HourClockSuffix(aa);break;case 'g':ea+=aa===0||aa===12?12:aa%12;break;case 'G':ea+=aa;break;case 'h':if(aa===0||aa===12){ea+=12;}else ea+=k(aa%12,2);break;case 'H':ea+=k(aa,2);break;case 'i':ea+=k(ba,2);break;case 's':ea+=k(ca,2);break;case 'X':ea+=k(da,3);break;default:ea+=ga;}}return ea;}function m(){var o=new Date(),p=o.getTime(),q=o.getFullYear(),r=o.getMonth(),s=new Date(q,o.getMonth()+1,0).getDate(),t=new Date(q,1,29).getMonth()===1?366:365,u=1000*60*60*24,v=new Date(o.setHours(0,0,0,0)),w=new Date(q,r,v.getDate()+1),x=o.getDate()-(o.getDay()-i.weekStart+6)%7,y=new Date(o.getTime()).setDate(x),z=new Date(o.getTime()).setDate(x+7),aa=new Date(q,r,1),ba=new Date(q,r,s+1),ca=new Date(q,0,1),da=new Date(q+1,0,1);return [{name:'today',start:v.getTime(),end:w.getTime()},{name:'withinDay',start:p-u,end:p+u},{name:'thisWeek',start:y,end:z},{name:'withinWeek',start:p-u*7,end:p+u*7},{name:'thisMonth',start:aa.getTime(),end:ba.getTime()},{name:'withinMonth',start:p-u*s,end:p+u*s},{name:'thisYear',start:ca.getTime(),end:da.getTime()},{name:'withinYear',start:p-u*t,end:p+u*t},{name:'older',start:-Infinity},{name:'future',end:+Infinity}];}l.periodNames=['today','thisWeek','thisMonth','thisYear','withinDay','withinWeek','withinMonth','withinYear','older','future'];function n(){if(typeof window==='undefined'||!window||!window.location||!window.location.pathname)return false;var o=window.location.pathname,p='/intern';return o.substr(0,p.length)===p;}f.exports=l;}),null);
__d('MMessagePayload',['ChannelEventType','CurrentUser','MercuryAttachmentSnippetRenderer','fbt','formatDate'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=25,n=1000,o='g:ia';function p(q){this.$MMessagePayload1=q;}p.prototype.isPageMessage=function(){return this.$MMessagePayload1.type===h.PAGES_MESSAGE;};p.prototype.getThreadFBID=function(){return this.$MMessagePayload1.thread_fbid&&this.$MMessagePayload1.thread_fbid.toString();};p.prototype.getHref=function(){return this.$MMessagePayload1.href;};p.prototype.getAuthorFBID=function(){return this.$MMessagePayload1.sender_fbid.toString();};p.prototype.getAuthorName=function(){return this.$MMessagePayload1.sender_name;};p.prototype.getThreadName=function(){return this.$MMessagePayload1.thread_name;};p.prototype.getThreadUnreadCount=function(){return this.$MMessagePayload1.thread_unread_count;};p.prototype.getSnippet=function(){var q=this.$MMessagePayload1.body;if(q)if(q.length>m){return k._("{shortened body}{dot dot dot (for truncation)}",[k.param('shortened body',q.substring(0,m)),k.param('dot dot dot (for truncation)','...')]);}else return q;var r=j.getAttachmentSnippetType(this.$MMessagePayload1.attachments);return j.renderAttachmentSnippetText(r,this.getAuthorFBID()===i.getID(),this.getAuthorName(),this.$MMessagePayload1.attachments);};p.prototype.getMessage=function(){return this.$MMessagePayload1.body;};p.prototype.getTime=function(){return l(this.$MMessagePayload1.timestamp/n,o);};p.prototype.getTimestamp=function(){return this.$MMessagePayload1.timestamp.toString();};p.prototype.getUUID=function(){return this.$MMessagePayload1.message_id;};p.prototype.getFolder=function(){return this.$MMessagePayload1.folder;};p.prototype.getMessageSource=function(){return this.$MMessagePayload1.source;};p.prototype.getParticipantIDs=function(){var q=this.$MMessagePayload1.participant_ids||[];return q.map(function(r){return r.toString();});};p.prototype.hasThreadImage=function(){return this.$MMessagePayload1.has_thread_image;};p.prototype.getAttachmentCount=function(){return this.$MMessagePayload1.attachments.length;};p.prototype.getAttachments=function(){return this.$MMessagePayload1.attachments;};p.prototype.isCanonicalThread=function(){return !!this.$MMessagePayload1.is_canonical;};p.prototype.isUnread=function(){return this.$MMessagePayload1.is_unread;};p.prototype.getOtherUserFBID=function(){var q=this.$MMessagePayload1.participant_ids;if(!this.isCanonicalThread()){return null;}else if(q.length===1){return q[0].toString();}else{if(q[0].toString()===i.getID()){if(this.isPageMessage())return q[0].toString();return q[1].toString();}return q[0].toString();}};p.prototype.getThreadNameWithUnreadCount=function(){if(!this.getThreadUnreadCount())return this.getThreadName();return k._("{thread name} ({unread count})",[k.param('thread name',this.getThreadName()),k.param('unread count',this.getThreadUnreadCount())]);};f.exports=p;}),null);
__d('MercuryChannelMessageTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){var l={author:j.mercury_author_id,author_email:j.mercury_author_email,body:j.body,subject:j.subject,has_attachment:j.has_attachment,attachments:j.attachments,ephemeral_ttl_mode:j.ephemeral_ttl_mode,html_body:j.html_body,thread_id:j.tid,thread_fbid:j.thread_fbid&&j.thread_fbid.toString(),other_user_fbid:j.other_user_fbid&&j.other_user_fbid.toString(),offline_threading_id:j.offline_threading_id,message_id:j.mid,is_spoof_warning:j.is_spoof_warning,ranges:j.ranges,source:j.mercury_source,source_tags:j.mercury_source_tags,tags:j.tags&&j.tags.split(','),threading_id:j.threading_id,timestamp:j.timestamp,action_type:h.USER_GENERATED_MESSAGE,is_unread:j.is_unread,folder:k,sync_id:j.sync_id};return l;}f.exports={transform:i};}),null);
__d('MercuryIDs',[],(function a(b,c,d,e,f,g){'use strict';var h={isValid:function i(j){if(!j||typeof j!=='string')return false;return /^\w{3,12}:.+/.test(j);},isValidThreadID:function i(j){if(!h.isValid(j))return false;var k=h.tokenize(j);switch(k.type){case 'user':case 'group':case 'support':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function i(j){if(!j||!h.isValid(j))throw new Error('bad_id_format '+String(j));var k=j.indexOf(':');return {type:j.substr(0,k),value:j.substr(k+1)};},getUserIDFromParticipantID:function i(j){if(!h.isValid(j))throw new Error('bad_id_format '+j);var k=h.tokenize(j),l=k.type,m=k.value;return l==='fbid'?m:null;},getParticipantIDFromUserID:function i(j){if(isNaN(j))throw new Error('Not a user ID: '+j);return 'fbid:'+j;},getUserIDFromThreadID:function i(j){if(!this.isCanonical(j))return null;return this.tokenize(j).value;},getThreadIDFromUserID:function i(j){return 'user:'+j;},getThreadIDFromThreadFBID:function i(j){return 'thread:'+j;},getThreadIDFromSupportInboxItemID:function i(j){return 'support:'+j;},getThreadFBIDFromThreadID:function i(j){return this.tokenize(j).value;},getThreadIDFromParticipantID:function i(j){var k=this.getUserIDFromParticipantID(j);return k?this.getThreadIDFromUserID(k):null;},getParticipantIDFromFromThreadID:function i(j){var k=this.getUserIDFromThreadID(j);return k?this.getParticipantIDFromUserID(k):null;},getSupportInboxItemIDFromThreadID:function i(j){return this.tokenize(j).value;},isCanonical:function i(j){return this.isValid(j)&&this.tokenize(j).type==='user';},isGroupChat:function i(j){return this.isValid(j)&&this.tokenize(j).type!=='user';},isLocalThread:function i(j){return this.isValid(j)&&this.tokenize(j).type==='root';}};f.exports=h;}),null);
__d('MMessagesChannelPayloadPreparer',['Promise','CurrentUser','MercuryChannelMessageTransformer','MercuryIDs','MessagingTag','MMessagePayload','MMessagesConfig','MMessagesThreadDataStore','MShortProfiles','StoryAttachmentStyle','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s={fetchDataThenDispatch:function t(u){var v=u.message.message_id!==undefined&&u.message.mid===undefined;if(!v)u.message=j.transform(u.message,l.INBOX);u.message.folder=u.folder;u.message.sender_fbid=k.getUserIDFromParticipantID(u.message.author);if(n.msite_genie_xma_rendering)this._processGenieMessage(u.message);var w=u.targetFBID?u.targetFBID:u.realtime_viewer_fbid.toString(),x=[new h(function(y,z){var aa=o.getForFBID(w);aa.getForNewMessage(u.message.other_user_fbid,u.message.thread_fbid,u.message.message_id,u.message.is_unread,function(ba){y(ba);});}),new h(function(y,z){p.get(u.message.sender_fbid.toString(),function(aa){y(aa);});})];h.all(x).done(function(y){var z=y[0],aa=y[1];Object.assign(u.message,{thread_name:z.thread_name,participant_ids:z.participant_ids,has_thread_image:z.has_thread_image,is_canonical:z.is_canonical,href:z.href,thread_unread_count:z.thread_unread_count,pages_is_flagged:z.pages_is_flagged,sender_name:aa.name,type:u.type});u.parsedPayload=new m(u.message);r.invoke(u.type,null,u);});},_processGenieMessage:function t(u){if(!u.has_attachment||!u.attachments)return;for(var v=u.attachments.length-1;v>=0;v-=1){var w=u.attachments[v];if(!w.share||!w.share.style_list||w.share.style_list[0]!=q.GENIE_MESSAGE)continue;if(w.share.target.genie_id){u.sender_fbid=w.share.target.genie_id;u.sender='fbid:'+w.share.target.genie_id;}if(w.share.target.genie_name)u.sender_name=w.share.target.genie_name;if(w.share.target&&!w.share.target.attachment){u.attachments.splice(v,1);u.has_attachment=u.attachments.length>0;}}}};f.exports=s;}),null);
__d('MercurySyncDeltaTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={AdminAddedToGroupThread:'AdminAddedToGroupThread',AdminRemovedFromGroupThread:'AdminRemovedFromGroupThread',AdminTextMessage:'AdminTextMessage',DeliveryReceipt:'DeliveryReceipt',ForcedFetch:'ForcedFetch',MarkRead:'MarkRead',MarkUnread:'MarkUnread',MessageDelete:'MessageDelete',NewMessage:'NewMessage',PagesManagerEvent:'PagesManagerEvent',ParticipantLeftGroupThread:'ParticipantLeftGroupThread',ParticipantsAddedToGroupThread:'ParticipantsAddedToGroupThread',ReadReceipt:'ReadReceipt',ReplaceMessage:'ReplaceMessage',RTCEventLog:'RTCEventLog',ThreadAction:'ThreadAction',ThreadDelete:'ThreadDelete',ThreadMuteSettings:'ThreadMuteSettings',ThreadName:'ThreadName',JoinableMode:'JoinableMode',ApprovalMode:'ApprovalMode',ApprovalQueue:'ApprovalQueue',ClientPayload:'ClientPayload',GenieMessage:'GenieMessage',MontageMessage:'MontageMessage',RtcCallData:'RtcCallData'};f.exports=h;}),null);
__d('MercurySyncMarkReadTransformer',['MercuryActionType','MercuryGlobalActionType','MessagingTag'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(l){if(l.folders&&l.folders.length>0)return l.folders.map(function(m){return {action_type:i.MARK_ALL_READ,action_id:null,folder:m,timestamp:parseInt(l.watermarkTimestamp,10)};});return l.threadKeys.map(function(m){return {action_type:h.CHANGE_READ_STATUS,other_user_fbid:m.otherUserFbId,thread_fbid:m.threadFbId,mark_as_read:true,timestamp:parseInt(l.watermarkTimestamp,10),folder:j.INBOX};});}f.exports={transform:k};}),null);
__d('MercuryMessageCustomizations',[],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j.customizations;if(!l)return null;var m=l.filter(function(n){return n.customization_type===k;});return m.length>0?m[0].customization_value:null;}function i(j){var k=JSON.parse(j),l=[];Object.keys(k).forEach(function(m){l.push({customization_type:m,customization_value:k[m]});});return l;}f.exports={getCustomizationValue:h,parseCustomizations:i};}),null);
__d('idx',[],(function a(b,c,d,e,f,g){'use strict';function h(n,o){try{return o(n);}catch(p){if(p instanceof TypeError)if(j(p)){return null;}else if(l(p))return undefined;throw p;}}var i=void 0;function j(n){var o=n.message;if(!i)i=m(null);return i.test(o);}var k=void 0;function l(n){var o=n.message;if(!k)k=m(undefined);return k.test(o);}var m=new Function('$object$','\n  try {\n    $object$.$property$;\n  } catch (error) {\n    return new RegExp(\n      error.message\n        .replace(/[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \'\\\\$&\')\n        .replace(\'\\\\$object\\\\$\', \'.+\')\n        .replace(\'\\\\$property\\\\$\', \'.+\')\n    );\n  }\n  throw new Error(\'Expected property access on \' + $object$ + \' to throw.\');\n');f.exports=h;}),null);
__d('MercuryProfileRanges',['idx'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){if(!j.id&&j.i)return {id:j.i,offset:j.o,length:j.l};return j;}f.exports={extractFromDelta:function j(k){var l,m,n=(l=k)!=null?(m=l.data)!=null?m.prng:m:l;if(!n)return undefined;var o=[];try{o=JSON.parse(n);if(o.length>0)return o.map(i);}catch(p){}return o;}};}),null);
__d('MercuryTimestamp',['fbt','formatDate','MercuryTimePassed'],(function a(b,c,d,e,f,g,h,i,j){var k=86400000,l=6*k,m={getFormatedTimestamp:function n(o){var p=o/1000;return m.getFormattedTimestampByBucket(p,this.getTimeBucket(o));},getAbsoluteTimestamp:function n(o){if(o==null){return null;}else{var p=m.getFormatedTimestamp(o);return p.absolute;}},getRelativeTimestamp:function n(o){var p=m.getFormatedTimestamp(o);return p.relative;},getFormattedTimestampByBucket:function n(o,p){switch(p){case j.TODAY:return {absolute:h._("Today"),relative:i(o,'g:ia')};case j.WEEK_AGO:return {absolute:i(o,'l'),relative:i(o,'D')};case j.CURRENT_YEAR:return {absolute:i(o,'F j'),relative:i(o,'M j')};default:return {absolute:i(o,'F j, Y'),relative:i(o,'n/j/y')};}},getTimeBucket:function n(o){var p=new Date(o),q=new Date(),r=new Date(q.getFullYear(),q.getMonth(),q.getDate());if(r<p){return j.TODAY;}else if(r-l<p){return j.WEEK_AGO;}else if(r.getFullYear()===p.getFullYear()){return j.CURRENT_YEAR;}else return j.OTHER_YEAR;},getPreciseTimestamp:function n(o){return i(new Date(o),m.getPreciseFormat(o));},getPreciseFormat:function n(o){var p=m.getTimeBucket(o);switch(p){case j.TODAY:return 'g:ia';case j.WEEK_AGO:return 'l g:ia';case j.CURRENT_YEAR:return 'F jS, g:ia';case j.OTHER_YEAR:default:return 'F j, Y g:i a';}}};f.exports=m;}),null);
__d('MercurySyncNewMessageTransformer',['IrisProtocolMessageLifetime','MercuryActionType','MercuryIDs','MercuryMessageCustomizations','MercuryProfileRanges','MercuryTimestamp','MessagingTag'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o=function q(r){var s={};try{s=JSON.parse(r);}catch(t){}return s;};function p(q,r){var s=parseInt(r.messageMetadata.timestamp,10),t=m.getFormatedTimestamp(s),u=r.messageMetadata.skipBumpThread,v=q!==r.messageMetadata.actorFbId,w=[];if(r.attachments)w=r.attachments.map(function(y){return y.mercury;});var x=r.messageMetadata.tags?r.messageMetadata.tags[0]:undefined;return {message_id:r.messageMetadata.messageId,threading_id:null,offline_threading_id:r.messageMetadata.offlineThreadingId,author:j.getParticipantIDFromUserID(r.messageMetadata.actorFbId),author_email:r.messageMetadata.actorFbId+'@facebook.com',ephemeral_ttl_mode:r.ttl?h[r.ttl]:0,timestamp:s,is_unread:v,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,source:x,tags:r.messageMetadata.tags,is_spoof_warning:false,folder:n.INBOX,thread_fbid:r.messageMetadata.threadKey.threadFbId,other_user_fbid:r.messageMetadata.threadKey.otherUserFbId,body:r.body!==undefined?r.body:'',html_body:null,subject:null,has_attachment:w.length>0,attachments:w,ranges:undefined,thread_id:null,action_type:i.USER_GENERATED_MESSAGE,is_from_iris:true,is_sponsored:!!(r.data&&r.data.is_sponsored&&r.data.is_sponsored==='true'),commerce_message_type:r.data?r.data.commerce_message_type:null,customizations:r.data&&r.data.customization?k.parseCustomizations(r.data.customization):null,platform_xmd:r.data&&r.data.platform_xmd?r.data.platform_xmd:null,profile_ranges:l.extractFromDelta(r),message_source:r.data&&r.data.message_source_data?o(r.data.message_source_data).message_source:null,skip_bump_thread:u,montage_reply_data:r.data&&r.data.montage_reply_data?o(r.data.montage_reply_data):null,meta_ranges:r.data&&r.data.meta_ranges?o(r.data.meta_ranges):null};}f.exports={transform:p};}),null);
__d('MercurySyncPagesManagerEventTransformer',['MercuryActionType','PagesMessagingEventType'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){var l=JSON.parse(k.jsonBlob),m=l&&l.type;if(!m)return undefined;switch(m){case i.FLAG:var n=!!(l&&l.flagData&&l.flagData.state),o={action_type:h.CHANGE_FLAG,mark_as_flag:n,other_user_fbid:k.threadKey.otherUserFbId,thread_fbid:k.threadKey.threadFbId};return o;default:return undefined;}}f.exports={transform:j};}),null);
__d('MercurySyncReadReceiptTransformer',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j={watermark:parseInt(i.watermarkTimestampMs,10),action:parseInt(i.actionTimestampMs,10)},k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m;}f.exports={transform:h};}),null);
__d('MMercurySyncDispatcher',['ChannelEventType','CurrentUser','MessagingEvent','MessagingTag','MercuryGlobalActionType','MercuryActionType','MercurySingletonProvider','MercurySyncDeltaTypes','MercurySyncMarkReadTransformer','MercurySyncNewMessageTransformer','MercurySyncPagesManagerEventTransformer','MercurySyncReadReceiptTransformer','MMessagesChannelPayloadPreparer','MMessagesReadReceipts','MMessagesThreadDataStore','Stratcom','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){'use strict';y.getForFBID=function(aa){return z.getForFBID(aa);};y.get=function(){return z.get();};function y(aa){this.$MMercurySyncDispatcher1=aa;this.$MMercurySyncDispatcher2=i.getAccountID()===this.$MMercurySyncDispatcher1?h.MESSAGE:h.PAGES_MESSAGE;}y.prototype.process=function(aa){var ba=void 0,ca=void 0;switch(aa['class']){case o.NewMessage:ba=q.transform(this.$MMercurySyncDispatcher1,aa);ca={message:ba,type:this.$MMercurySyncDispatcher2,folder:k.INBOX,targetFBID:this.$MMercurySyncDispatcher1};t.fetchDataThenDispatch(ca);break;case o.MarkRead:var da=p.transform(aa),ea=false;for(var fa=0;fa<da.length;fa++){var ga=da[fa];if(ga.action_type===l.MARK_ALL_READ)ea=true;}if(ea)return;da.map(function(ja){v.getForFBID(this.$MMercurySyncDispatcher1).clearUnreadCount(ja.other_user_fbid,ja.thread_fbid,x);ca={message:ja,type:this.$MMercurySyncDispatcher2,event:j.READ,is_sync:true,targetFBID:this.$MMercurySyncDispatcher1};w.invoke(ca.type,null,ca);}.bind(this));break;case o.ReadReceipt:ba=s.transform(aa);var ha=Object.keys(ba.roger)[0],ia=ba.roger[ha];u.update(ha,ia);ca={message:ba,type:this.$MMercurySyncDispatcher2,event:j.READ_RECEIPT,is_sync:true,targetFBID:this.$MMercurySyncDispatcher1};w.invoke(ca.type,null,ca);break;case o.PagesManagerEvent:ba=r.transform(aa);if(!ba||ba.action_type!==m.CHANGE_FLAG)return;v.getForFBID(this.$MMercurySyncDispatcher1).updateFlagStatus(ba.other_user_fbid,null,ba.mark_as_flag,x);ca={event:h.PAGE_THREAD_FLAG_CHANGED,flagged:ba.mark_as_flag,other_user_fbid:ba.other_user_fbid,type:h.PAGES_MESSAGE};w.invoke(ca.type,null,ca);break;default:break;}};var z=new n(y);f.exports=y;}),null);
__d('MTouchChannelPayloadRouter',['ChannelEventType','MessagingEvent','MMercurySyncDispatcher','Stratcom'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';function l(q){if(m(q)||o(q)||p(q)){return;}else if(n(q)){var r=q.queue.toString();j.getForFBID(r).process(q.delta);}else k.invoke(q.type,null,q);}function m(q){return (q.type===h.MESSAGE||q.type===h.PAGES_MESSAGE)&&q.message;}function n(q){return q.type===h.DELTA;}function o(q){return (q.type===h.MESSAGE||q.type===h.PAGES_MESSAGE)&&q.event===i.READ;}function p(q){return q.type===h.PAGES_MESSAGE&&q.event===h.PAGE_THREAD_FLAG_CHANGED;}g.route=l;}),null);