if (self.CavalryLogger) { CavalryLogger.start_js(["mhm2G"]); }

__d("MSiteMessengerDiodeLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={FAST_APP_SWITCH_ATTEMPT:"fast_app_switch_attempt",FAST_APP_SWITCH_FAIL:"fast_app_switch_fail",DIODE_ROADBLOCK_QP_LOAD_FAIL:"diode_roadblock_qp_load_fail"};}),null);
__d('MTabbable',['MAria','MJSEnvironment','MViewport','isNodeWithinRect'],(function a(b,c,d,e,f,g,h,i,j,k){function l(o,p){while(o&&o!==p){if(h.isHidden(o))return true;o=o.parentNode;}return false;}function m(o,p){if(o.offsetHeight===0||o.offsetWidth===0||window.getComputedStyle(o).visibility==='hidden'||parseInt(o.tabIndex,10)<0||l(o,p))return false;if(o.tabIndex>=0)return true;switch(o.tagName){case 'A':return o.href&&o.rel!='ignore';case 'INPUT':return o.type!='hidden'&&o.type!='file'&&!o.disabled;case 'BUTTON':case 'SELECT':case 'TEXTAREA':return !o.disabled;}return false;}function n(o){if(!o.getBoundingClientRect)return;var p=i.IS_APPLE_WEBKIT_IOS&&parseFloat(i.OS_VERSION)>=8||i.BROWSER_NAME==='Safari'&&!i.IS_APPLE_WEBKIT_IOS,q=p?o.querySelectorAll('a, button, select, [tabindex]'):o.querySelectorAll('a, button, input, select, textarea, [tabindex]'),r=j.getBoundingRect();for(var s=0,t;t=q[s];s++)if(m(t,o)&&k(t,r)){t.focus();return;}}g.focusTabbable=n;}),null);
__d('Popover',['setTimeoutAcrossTransitions','CSS','DOM','MAria','MViewport','Stratcom','Vector','$','eventsMixinDeprecated'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=40;function r(s){'use strict';var t=s.flyout;this.flyout=typeof t=='string'?o(t):t;this.content=j.scry(this.flyout,'div','flyout-content')[0];this.options=s;this._onOrientationChange=this._reposition.bind(this);i.conditionClass(this.flyout,'popover_flyout',true);var u=s.button;if(u){this.button=typeof u=='string'?o(u):u;this.buttonClickListener=j.listen(this.button,'click',null,this._openHandler.bind(this));this.button.setAttribute('role','button');k.setupPopup(this.button,this.flyout);}var v=s.flyoutAnchor;if(v){this.flyoutAnchor=typeof v=='string'?o(v):v;}else this.flyoutAnchor=this.button;if(this.options.flyoutFromRoot)this.flyoutClickListener=j.listen(this.flyout,'click',null,this._openHandler.bind(this));if(this.options.touchstart_callback)this.flyoutTouchStartListener=j.listen(this.flyout,'touchstart',null,this._touchStartHandler.bind(this));if(this.options.touchmove_callback)this.flyoutTouchMoveListener=j.listen(this.flyout,'touchmove',null,this._touchMoveHandler.bind(this));if(this.options.touchend_callback)this.flyoutTouchEndListener=j.listen(this.flyout,'touchend',null,this._touchEndHandler.bind(this));r._instances[this.flyout.id]=this;}r.prototype.isOpen=function(){'use strict';return !!this._isOpen;};r.prototype.open=function(){'use strict';if(this.isOpen())return;if(r._activePopover)r._activePopover.close();r._activePopover=this;this._isOpen=true;this.constraint=null;i.conditionClass(this.flyout,'popover_hidden',false);if(this.options.flyoutFromRoot)this._absolutePositionFlyout();this._position();if(!this.options.heightConstraint){i.conditionClass(document.body,'disableClicks',true);this.globalListener=m.listenCapture('click',null,this._closeHandler.bind(this));}window.addEventListener('orientationchange',this._onOrientationChange,false);k.showPopup(this.button,this.flyout);if(this.options.ensureVisible){var s=l.getScrollTop(),t=this._getElementPosition(this.flyout).y,u=t+this.flyout.offsetHeight,v=u-(s+l.getUseableHeight());if(v>0){var w=Math.min(v,Math.max(t-s-q,0));l.scrollTo(0,s+w);}}this.invoke('open');};r.prototype.close=function(s){'use strict';if(!this.isOpen())return;r._activePopover=null;this._isOpen=false;i.conditionClass(this.flyout,'popover_hidden',true);if(this.options.flyoutFromRoot){this.flyoutParent.appendChild(this.flyout);delete this.flyoutParent;}h(function(){i.conditionClass(document.body,'disableClicks',false);}.bind(this),400);this.globalListener&&this.globalListener.remove();window.removeEventListener('orientationchange',this._onOrientationChange,false);this._releaseConstraint();k.hidePopup(this.button,this.flyout);if(!s)this.invoke('close');};r.prototype.clear=function(){'use strict';this.globalListener&&this.globalListener.remove();this.buttonClickListener&&this.buttonClickListener.remove();this.flyoutClickListener&&this.flyoutClickListener.remove();this.flyoutTouchStartListener&&this.flyoutTouchStartListener.remove();this.flyoutTouchMoveListener&&this.flyoutTouchMoveListener.remove();this.flyoutTouchEndListener&&this.flyoutTouchEndListener.remove();delete r._instances[this.flyout.id];};r.prototype.refreshConstraints=function(){'use strict';if(!this._isOpen)return false;var s=this.flyout;this._releaseConstraint();if(this.options.heightConstraint){s.style.minHeight=l.getUseableHeight()+'px';this.constraint=l.addHeightConstraint(n.getDim(this.content).y+this._getElementPosition(s).y);}else this.constraint=l.addMinHeightConstraint(n.getDim(s).y+this._getElementPosition(s).y+r._MARGIN);};r.prototype._getTouchPoint=function(event){'use strict';var s=event.getRawEvent().targetTouches[0],t={x:s?s.screenX:0,y:s?s.screenY:0};return t;};r.prototype._touchStartHandler=function(event){'use strict';this.options.touchstart_callback(this._getTouchPoint(event));};r.prototype._touchMoveHandler=function(event){'use strict';if(this.isOpen())this.options.touchmove_callback(this._getTouchPoint(event));};r.prototype._touchEndHandler=function(event){'use strict';this.options.touchend_callback(this._getTouchPoint(event));};r.prototype._openHandler=function(event){'use strict';event.prevent();var s=this.isOpen();if(s&&!this.options.preventClose){this.close();}else if(!s){var t=j.scry(document,'input');for(var u=0;u<t.length;u++)t[u].blur();this.open();}};r.prototype._closeHandler=function(event){'use strict';if(!event.getNode('popover'))this.close();};r.prototype._getElementPosition=function(s){'use strict';var t=s.offsetLeft,u=s.offsetTop;s=s.offsetParent;while(s&&s!==document.documentElement){t+=s.offsetLeft;u+=s.offsetTop;var v=window.getComputedStyle(s);t+=parseInt(v.getPropertyValue('border-left-width').slice(0,-2),10);u+=parseInt(v.getPropertyValue('border-top-width').slice(0,-2),10);s=s.offsetParent;}return new n(t,u);};r.prototype._absolutePositionFlyout=function(){'use strict';this.flyoutParent=this.flyout.parentNode;o('root').appendChild(this.flyout);var s=this._getElementPosition(this.flyout.parentNode),t=this._getElementPosition(this.flyoutAnchor),u=n.getDim(this.flyoutAnchor),v=t.y-s.y+u.y;this.flyout.style.position='absolute';this.flyout.style.top=v+'px';};r.prototype._position=function(){'use strict';var s=this.flyout;if(this.flyoutAnchor&&this.options.positionNub){var t=this._getElementPosition(this.flyoutAnchor),u=j.find(this.flyout,'*','nub'),v=n.getDim(u).x,w=n.getDim(this.flyoutAnchor).x,x=this._getElementPosition(s);new n(t.x-x.x+(w-v)/2,0).setPos(u);}this.refreshConstraints();};r.prototype._reposition=function(){'use strict';h(this._position.bind(this),0);};r.prototype._releaseConstraint=function(){'use strict';if(this.constraint){this.constraint.release();this.constraint=null;}};r.getInstance=function(s){'use strict';return r._instances[s];};r.clearAll=function(){'use strict';for(var s=0;s<r._instances.length;s++)r._instances[s].clear();};p(r,['open','close']);Object.assign(r,{_activePopover:null,_MARGIN:40,_instances:{}});f.exports=r;}),null);
__d('MJewel',['setTimeoutAcrossTransitions','CSS','DOM','intlNumUtils','MHistory','MJSEnvironment','MLogState','MTabbable','MViewport','Popover','Stratcom','$','eventsMixinDeprecated'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=10;function v(w,x){'use strict';this._sigil=w;this.options=x||{};this._jewelNode=s(v.JEWEL_NAV_NODE_ID);this._softState=x.softState||'jewel='+v.nextID++;this._duringInit=false;this._createPopover();r.listen('m:history:change',null,function(event){if(event.getData().soft===this._softState){this._popover&&this._popover.open();}else this._popover&&this._popover.close();}.bind(this));}v.prototype.isInitialized=function(){'use strict';var w=this.options.contentsSigil||'contents';return !!j.scry(this._jewelNode,'*',w)[0];};v.prototype._getJewelElement=function(){'use strict';return j.find(this._jewelNode,'div',this._sigil);};v.prototype._getCountElement=function(){'use strict';return j.find(this._getJewelElement(),'span','count');};v.prototype._getContentsElement=function(){'use strict';var w=this.options.contentsSigil||'contents';return j.find(this._getJewelElement(),'*',w);};v.prototype._getFlyoutElement=function(){'use strict';return j.find(this._getJewelElement(),'*','flyout');};v.prototype.getCount=function(){'use strict';return this._count;};v.prototype.setDuringInit=function(w){'use strict';this._duringInit=w;};v.prototype._updateCountElement=function(){'use strict';var w=this._getJewelCount();j.setContent(this._getCountElement(),k.formatNumberWithThousandDelimiters(w||0));var x=this._getJewelElement(),y=this._count>0;i.conditionClass(x,'noCount',!y);i.conditionClass(x,'hasCount',y);};v.prototype.setCount=function(w){'use strict';if(w<0)return;this._count=w;this._updateCountElement();};v.prototype.setHeaderText=function(w,x){'use strict';if(!w||!x)return;var y=this._getFlyoutElement();if(!y)return;var z=j.scry(y,'*',w)[0];if(!z)return;var aa=z.cloneNode(true);aa.innerText=x;j.replace(z,aa);};v.prototype.handleViewedContent=function(){'use strict';if(this.getCount()>0&&this.isInitialized()){this.setCount(0);this.invoke('cleared');}else this.invoke('jewel_click');};v.prototype.setMenuContent=function(w){'use strict';j.setContent(this._getFlyoutElement(),w);if(this.isOpen())this.handleViewedContent();};v.prototype.prependMenuContent=function(w){'use strict';j.prependContent(this._getContentsElement(),w);};v.prototype.removeMenuContent=function(w){'use strict';var x=document.getElementById(w);if(x)j.remove(x);};v.prototype.updateMenuColor=function(w,x,y){'use strict';y?h(this._updateMenuColor.bind(this,w,x),v.MARK_READ_DELAY):this._updateMenuColor(w,x);};v.prototype._updateMenuColor=function(w,x){'use strict';var y=document.getElementById(w);if(y){i.conditionClass(y,v.M_AREA_LIGHTBLUE,!x);i.conditionClass(y,v.M_AREA_WHITE,x);}};v.prototype._createPopover=function(){'use strict';var w=this._getJewelElement(),x=j.find(w,'div','flyout');this._popover=new q({button:j.find(w,'*','icon'),flyout:x,ensureVisible:false,heightConstraint:true,preventClose:true});this._onOpenListener=this._popover.listen('open',this._onOpen.bind(this));this._onCloseListener=this._popover.listen('close',this._onClose.bind(this));this._popoverClickListener=j.listen(x,'click',null,this._onPopoverClick.bind(this));if(m.IS_ANDROID&&m.GET_OS_VERSION>=4)this._scrollAreaNode=j.scry(x,'div','scroll-area')[0];};v.prototype.clear=function(){'use strict';this._onOpenListener&&this._onOpenListener.remove();this._onCloseListener&&this._onCloseListener.remove();this._popoverClickListener&&this._popoverClickListener.remove();this._popoverTouchStartListener&&this._popoverTouchStartListener.remove();this._touchMoveListener&&this._touchMoveListener.remove();this._touchStartListener&&this._touchStartListener.remove();this._popover&&this._popover.clear();};v.prototype._onPopoverClick=function(event){'use strict';n.updateLink(event,this.options.pos);this.options.clickCallback&&this.options.clickCallback(event);};v.prototype._onPopoverTouchStart=function(event){'use strict';event.kill();};v.prototype._getJewelCount=function(){'use strict';if(this._count>0){return this._count;}else return this._unreadCount;};v.prototype._onOpen=function(){'use strict';if(this._scrollAreaNode){p.scrollToHeader();var w=document.documentElement;i.conditionClass(w,'hide-scroll',true);this._scrollAreaNode.style.maxHeight=w.offsetHeight-200+'px';}var x=this._getJewelCount();l.pushSoftState(this._softState);this.handleViewedContent();r.invoke('m:jewel:flyout:open',null,{jewel:this._sigil});i.conditionClass(this._getJewelElement(),'popoverOpen',true);var y=j.find(this._getJewelElement(),'div','flyout');o.focusTabbable(y);};v.prototype._onClose=function(){'use strict';if(this._scrollAreaNode){this._scrollAreaNode.style.minHeight='';i.conditionClass(document.documentElement,'hide-scroll',false);}r.invoke('m:jewel:flyout:close',null,{jewel:this._sigil});i.conditionClass(this._getJewelElement(),'popoverOpen',false);l.popSoftState(this._softState);};v.prototype.isOpen=function(){'use strict';return this._popover&&this._popover.isOpen();};v.prototype.openPopover=function(){'use strict';this._popover&&!this._popover.isOpen()&&this._popover.open();};v.prototype.reregisterListeners=function(){'use strict';var w=this.isOpen();this.clear();this._createPopover();if(w)this._popover.open();};t(v,['cleared','jewel_click']);Object.assign(v,{M_AREA_WHITE:'acw',M_AREA_LIGHTBLUE:'aclb',MARK_READ_DELAY:3000,JEWEL_NAV_NODE_ID:'mJewelNav',nextID:0});Object.assign(v.prototype,{_sigil:null,_currentJewel:null,_count:0,_popover:null});f.exports=v;}),null);
__d('MJewels',[],(function a(b,c,d,e,f,g){f.exports={REQUESTS:'requests',MESSAGES:'messages',NOTIFICATIONS:'notifications',SEARCH:'search',MORE:'more',NEWS_FEED:'news-feed',BOOKMARKS:'bookmarks',VIDEOS:'videos'};}),null);
__d('GeneratedLoggerUtils',['Banzai','invariant'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=h.post;if(window.location.search.indexOf('showlog')>-1)j=function l(m,n,o){h.post(m,n,o);};var k={log:j,serializeVector:function l(m){if(!m)return m;if(Array.isArray(m))return m;if(m.toArray){var n=m;return n.toArray();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator'])return Array.from(m);i(0);},serializeMap:function l(m){if(!m)return m;if(m.toJS){var n=m;return n.toJS();}if(typeof m==='object'&&m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']){var o=m,p={};for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;p[u[0]]=u[1];}return p;}if(Object.prototype.toString.call(m)==='[object Object]')return m;i(0);},checkExtraDataFieldNames:function l(m,n){Object.keys(m).forEach(function(o){!Object.prototype.hasOwnProperty.call(n,o)||i(0);});},warnForInvalidFieldNames:function l(m,n,o,p){},throwIfNull:function l(m,n){m||i(0);return m;}};f.exports=k;}),null);
__d('MSiteMessengerDiodeTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(){this.clear();}k.prototype.log=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:MSiteMessengerDiodeLoggerConfig',this.$MSiteMessengerDiodeTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$MSiteMessengerDiodeTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$MSiteMessengerDiodeTypedLogger1=babelHelpers['extends']({},this.$MSiteMessengerDiodeTypedLogger1,m);return this;};k.prototype.setEvent=function(m){this.$MSiteMessengerDiodeTypedLogger1.event=m;return this;};k.prototype.setMessagingEntryPoint=function(m){this.$MSiteMessengerDiodeTypedLogger1.messaging_entry_point=m;return this;};k.prototype.setMsiteDiodeStateFromClient=function(m){this.$MSiteMessengerDiodeTypedLogger1.msite_diode_state_from_client=m;return this;};k.prototype.setVC=function(m){this.$MSiteMessengerDiodeTypedLogger1.vc=m;return this;};var l={event:true,messaging_entry_point:true,msite_diode_state_from_client:true,vc:true};f.exports=k;}),null);
__d("XMSiteDiodeMessengerLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messenger\/log\/",{log:{type:"Bool",defaultValue:false}});}),null);
__d('MessengerRedirectOnClick',['URI','MRequest','XMSiteDiodeMessengerLoggingController','MSiteMessengerDiodeTypedLogger','MSiteMessengerDiodeLoggerEvent'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m={register:function n(o,p,q,r,s){p.onclick=function(){var t=j.getURIBuilder().setBool('log',true).getURI();new i(t).send();if(r){new k().setEvent(l.FAST_APP_SWITCH_ATTEMPT).setMessagingEntryPoint(q).setMsiteDiodeStateFromClient(s).log();var u=new h(o);u.go();}};}};f.exports=m;}),null);
__d("XFriendRequestIHEventLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/requests\/interaction_history_logging\/",{target_id:{type:"FBID",required:true},log_event:{type:"String",required:true}});}),null);
__d('MFriendRequestIHEventLogger',['DOM','FBJSON','MRequest','XFriendRequestIHEventLoggingController'],(function a(b,c,d,e,f,g,h,i,j,k){var l={listenToProfileClick:function m(n,o,p){var q=i.parse(n.getAttribute('data-store')),r=q.userid?q.userid.toString():null;h.listen(p,'click',null,function(){this.logClick(r);}.bind(this));h.listen(o,'click',null,function(){this.logClick(r);}.bind(this));},logImpression:function m(n){if(n)this._logEvent(n,'impression');},logClick:function m(n){if(n)this._logEvent(n,'click');},_logEvent:function m(n,event){if(isNaN(n))return;var o=k.getURIBuilder().setFBID('target_id',n).setString('log_event',event).getURI();new j(o).send();}};f.exports=l;}),null);
__d('CommentsTimeSpentTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(){this.clear();}k.prototype.log=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:CommentsTimeSpentLoggerConfig',this.$CommentsTimeSpentTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$CommentsTimeSpentTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$CommentsTimeSpentTypedLogger1=babelHelpers['extends']({},this.$CommentsTimeSpentTypedLogger1,m);return this;};k.prototype.setEndTime=function(m){this.$CommentsTimeSpentTypedLogger1.end_time=m;return this;};k.prototype.setOrderingMode=function(m){this.$CommentsTimeSpentTypedLogger1.ordering_mode=m;return this;};k.prototype.setPostFbid=function(m){this.$CommentsTimeSpentTypedLogger1.post_fbid=m;return this;};k.prototype.setStartTime=function(m){this.$CommentsTimeSpentTypedLogger1.start_time=m;return this;};k.prototype.setTimeSpentID=function(m){this.$CommentsTimeSpentTypedLogger1.time_spent_id=m;return this;};k.prototype.setViewerHasInteracted=function(m){this.$CommentsTimeSpentTypedLogger1.viewer_has_interacted=m;return this;};var l={end_time:true,ordering_mode:true,post_fbid:true,start_time:true,time_spent_id:true,viewer_has_interacted:true};f.exports=k;}),null);
__d('MSideNavMarauderLogger',['MLegacyDataStore','Stratcom','MarauderLogger','MTouchClick'],(function a(b,c,d,e,f,g,h,i,j,k){var l='';function m(event){j.toggleModule('sidebar_menu',true);}function n(event){j.toggleModule('sidebar_menu',false);}function o(event){var x=event.getNode('tag:a'),y=event.getNode('tag:div');j.log('open_application','sidebar_menu',{application_link_type:'local_module',display_name:y?y.innerText:'unknown',url:x&&x.href});j.setNavigationModule('sidebar_menu');}function p(){u('session_start');}function q(){u('cancel');}function r(x){var y=x.getData();if(y.node.rel<=0)return;var z=0,aa='',ba=h.get(y.node);if(ba){z=ba.bootstrap?1:0;aa=ba.type;}var ca=0,da=null;for(var ea=0;ea<y.results.length;ea++){var fa=y.results[ea];if(fa.rel>0){if(fa.rel==y.node.rel){da=ca;break;}ca++;}}u('click',{query:y.query,is_bootstrapped:z,display_position:da},aa,y.node.rel);}function s(x){var y=x.getData();u('click',{query:y.query,is_bootstrapped:y.node.bootstrap?1:0,display_position:y.position},y.node.type,y.node.id);}function t(x){if(l!==x)u('search_keystroke',{prev_query:l,new_query:x});l=x;}function u(x,y,z,aa){j.log(x,'search_typeahead',y,z,aa);}function v(x){return x.listen('change',t);}i.listen('m:side-area:show',null,m);i.listen('m:side-area:hide',null,n);i.listen('click','side-menu-item',o);var w=k.hasTouchEvents()?'touchend':'click';i.listen(w,'search-activator',p);i.listen(w,'graph-search-activator',p);i.listen('click','graph-search-entry-point',p);i.listen('m:search-overlay:cancel',null,q);i.listen('m:search-overlay:cancel-react',null,q);i.listen('m:search-typeahead:select',null,r);i.listen('m:search-typeahead:select-react',null,s);f.exports={setupTypeaheadListener:v};}),null);
__d('MPopover',['Popover','Stratcom','MRequest','MURI'],(function a(b,c,d,e,f,g,h,i,j,k){function l(m){var n=new h(m),o=[n.listen('open',function(){i.invoke(':m:page-header-right:open');if(m.sessionTime){var p=new k('/a/friendlists/log/').setQueryData({subject_id:m.subjectID,ref_param:m.refParam,session_time:m.sessionTime});new j(p.toString()).send();}}),n.listen('close',function(){i.invoke(':m:page-header-right:close');}),i.listen('click','flyout',function(){n.close();}),i.listen('m:page:unload',null,function(){while(o.length)o.pop().remove();o=null;n=null;})];}g.main=l;}),null);
__d('MPopoverClose',['Popover'],(function a(b,c,d,e,f,g,h){var i=function j(){if(h._activePopover)h._activePopover.close();};g.main=i;}),null);
__d('MUFICommentViewportTracking',['MLegacyDataStore','MViewportTracking','MarauderLogger','MUFIConfig'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;l=babelHelpers.inherits(n,i);m=l&&l.prototype;n.prototype.getDataFromConfig=function(o){this.vpvLoggingEnabled=o.vpvLoggingEnabled;};n.prototype.getStoryID=function(o){return h.get(o).token;};n.prototype.getDataToLog=function(o){return this.getStoryID(o);};n.prototype.sendDataToLog=function(o){if(this.vpvLoggingEnabled)j.log('comment_vpv',undefined,null,'comment',o);};n.prototype.getTimeout=function(){return k.vpvLoggingTimeout;};function n(){l.apply(this,arguments);}f.exports=n;}),null);
__d('MUFIStaticCommentViewportTracking',['CommentsTimeSpentTypedLogger','MUFICommentViewportTracking','Stratcom','pageID'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n={},o=null;l=babelHelpers.inherits(p,i);m=l&&l.prototype;p.trackStatically=function(q,r,s,t,u){var v=u+'_'+t,w=n[v];if(!w){w=new p();n[v]=w;w.init({is_loose:false,throttle_no_delay:false,relaxed_min_size:true,vpv_debug:false,triggerOverride:[['scroll',null],['touchmove','ufi-overlay']],vpvLoggingEnabled:r,timeTrackingEnabled:s,orderingMode:t,targetFBID:u});}if(!o)o=j.listen('m:page:unload',null,p.resetAll);w.addComments(q);w.fireEvent();};p.resetAll=function(){if(o)o.remove();o=null;n={};};function p(){m.constructor.call(this);this.resetTimeSpentInterval();this.comments=[];}p.prototype.addComments=function(q){this.comments.push.apply(this.comments,q);};p.prototype.getDataFromConfig=function(q){m.getDataFromConfig.call(this,q);this.isTimeTrackingEnabled=q.timeTrackingEnabled;this.orderingMode=q.orderingMode;this.targetFBID=q.targetFBID;};p.prototype.getAllStories=function(){return this.comments;};p.prototype.recordVPVDurations=function(q,r){this.recordVPVDurationsInternal(q,r);if(r||!q.length){if(this.timeSpentIntervalStart<this.timeSpentIntervalEnd)new h().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(k).log();this.resetTimeSpentInterval();}};p.prototype.sendTimetrackingDataToLog=function(q){var r=Math.round(q.vpvd_start_timestamp);if(r<this.timeSpentIntervalStart)this.timeSpentIntervalStart=r;var s=r+Math.round(q.vpvd_time_delta/1000);if(s>this.timeSpentIntervalEnd)this.timeSpentIntervalEnd=s;};p.prototype.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE;this.timeSpentIntervalEnd=0;};f.exports=p;}),null);
__d('formatNumber',['intlNumUtils','fbt'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(m,n){return h.formatNumber(m,n);}function k(m){var n=i._({"*":"{number}+"},[i.param('number',h.formatNumberWithThousandDelimiters(m),[0,m])]);return n.toString();}function l(m,n,o){return m>n?k(n):h.formatNumberWithThousandDelimiters(m);}j.withThousandDelimiters=h.formatNumberWithThousandDelimiters;j.withMaxLimit=l;f.exports=j;}),null);
__d('CurrentPage',['Run','invariant'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=null,k=null,l={init:function m(n){var o=n.pageID,p=n.pageName;this.setID(o);this.setName(p);h.onLeave(this._clear);},getID:function m(){j!==null||i(0);return j;},setID:function m(n){if(!j)j=n;},getName:function m(){k!==null||i(0);return k;},setName:function m(n){if(!k)k=n;},_clear:function m(){j=null;k=null;}};f.exports=l;}),null);